<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kezouze Photographie</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>


    <section id="gallery" class="py-4">
        <div class="container">
            <h2 class="text-center mb-4">Galerie</h2>
            <div class="row my-auto">

            </div>
        </div>
    </section>

    <!-- répétition de index.html -->
    <!-- Fullscreen Image Modal -->
    <div class="modal fade" id="imageModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-fullscreen">
            <div class="modal-content bg-transparent border-0">
                <div class="modal-body d-flex justify-content-center align-items-center p-0">
                    <img src="" class="img-fluid" id="fullscreenImage" style="max-height: 100vh; max-width: 100vw;">
                    <button type="button" class="btn-close btn-close-white position-absolute top-0 end-0 m-3"
                        data-bs-dismiss="modal" aria-label="Close"></button>
                    <button id="prevBtn"
                        class="position-absolute start-0 top-50 translate-middle-y btn btn-dark">&#10094;</button>
                    <button id="nextBtn"
                        class="position-absolute end-0 top-50 translate-middle-y btn btn-dark">&#10095;</button>
                </div>
            </div>
        </div>
    </div>

    <script>

        const imageContainer = document.querySelector(".row");
        const images = Array.from({ length: 24 }, (_, i) => `src/photos/photo${i + 1}.jpg`);

        images.forEach(src => {
            const div = document.createElement("div");
            div.classList.add("col-md-4", "mb-4", "grid-item", "align-self-center");
            const img = document.createElement("img");
            img.src = src;
            img.alt = "Photo de la galerie";
            img.classList.add("img-fluid", "zoom-effect");
            div.appendChild(img);
            imageContainer.appendChild(div);
        });


        document.addEventListener('DOMContentLoaded', function () {
            const galleryImages = document.querySelectorAll('#gallery .grid-item img');
            const fullscreenImage = document.getElementById('fullscreenImage');
            const imageModal = new bootstrap.Modal(document.getElementById('imageModal'));
            let currentIndex = 0;

            function showImage(index) {
                if (index < 0) index = galleryImages.length - 1;
                if (index >= galleryImages.length) index = 0;
                fullscreenImage.src = galleryImages[index].src;
                currentIndex = index;
            }

            galleryImages.forEach((image, index) => {
                image.addEventListener('click', function () {
                    showImage(index);
                    imageModal.show();
                });
            });

            document.getElementById('prevBtn').addEventListener('click', () => showImage(currentIndex - 1));
            document.getElementById('nextBtn').addEventListener('click', () => showImage(currentIndex + 1));
        });

    </script>

</body>

</html>